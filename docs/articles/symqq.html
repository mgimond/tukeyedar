<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The symmetry QQ plot • tukeyedar</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The symmetry QQ plot">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tukeyedar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/polish.html">Median polish</a></li>
    <li><a class="dropdown-item" href="../articles/qq.html">The empirical QQ plot (and derived Tukey mean-difference plot)</a></li>
    <li><a class="dropdown-item" href="../articles/rfs.html">The residual-fit spread plot</a></li>
    <li><a class="dropdown-item" href="../articles/RLine.html">Resistant Line</a></li>
    <li><a class="dropdown-item" href="../articles/symqq.html">The symmetry QQ plot</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mgimond/tukeyedar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The symmetry QQ plot</h1>
                        <h4 data-toc-skip class="author">Manuel
Gimond</h4>
            
            <h4 data-toc-skip class="date">2025-01-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mgimond/tukeyedar/blob/HEAD/vignettes/symqq.Rmd" class="external-link"><code>vignettes/symqq.Rmd</code></a></small>
      <div class="d-none name"><code>symqq.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The symmetry QQ plot is inspired by Chambers <em>et al.</em>’s
<strong>symmetry plot</strong> which pairs the quantiles of the lower
half of a batch of values with matching quantiles of the batch’s upper
half of values. The median value is used to define the halves as
follows:</p>
<p><span class="math display">\[
lower\ half = median - x_i
\]</span></p>
<p><span class="math display">\[
upper\ half = x_{n+1-i} - median
\]</span></p>
<p>where <span class="math inline">\(n\)</span> is the number of values
in <span class="math inline">\(x\)</span>, <span class="math inline">\(i\)</span> = 1 to <span class="math inline">\(n/2\)</span> if <span class="math inline">\(n\)</span> is even or <span class="math inline">\(i\)</span> = 1 to <span class="math inline">\((n+1)/2\)</span> if <span class="math inline">\(n\)</span> is odd.</p>
<p>The plot is interpreted no differently than a QQ plot. If the data
are symmetrical about the batch’s median value, the points will hug the
<span class="math inline">\(x=y\)</span> line. For example, given a
batch of 1000 normally distributed values shown in the left density
plot, we would expect the symmetry QQ plot to show the points very close
to the <span class="math inline">\(x=y\)</span> line as shown in the
right plot.</p>
<p><img src="symqq_files/figure-html/unnamed-chunk-2-1.png" width="576"></p>
<p>The axes in the symmetry QQ plot show the distance of each
observation in the batch to that batch’s median value. The units are
those of the batch. Points that are close to 0 are those observations
closest to the median. Points that are furthest from 0 are those that
are at both tail ends of the distribution.</p>
</div>
<div class="section level2">
<h2 id="the-symmetry-qq-plot-function">The symmetry QQ plot function<a class="anchor" aria-label="anchor" href="#the-symmetry-qq-plot-function"></a>
</h2>
<p>The symmetry QQ plot is generated using the <code><a href="../reference/eda_sym.html">eda_sym()</a></code>
function.</p>
<p>Before exploring the function and its output, let’s first generate
some data. Here, we’ll create a slightly skewed dataset (one that is
skewed towards larger values).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span> </span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html" class="external-link">rgamma</a></span><span class="op">(</span><span class="fl">100</span>, shape <span class="op">=</span> <span class="fl">2</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>  </span></code></pre></div>
<p>Next, let’s generate the symmetry QQ plot.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mgimond.github.io/tukeyedar/">tukeyedar</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/eda_sym.html">eda_sym</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<p><img src="symqq_files/figure-html/unnamed-chunk-4-1.png" width="288"></p>
<p>If you are familiar with the use of <code>eda_qq</code> as an
empirical QQ plot function, you are familiar with the grey boxes that
highlight the mid 75% of the values. Here, given that the x and y axes
are mapping the lower and upper halves of the batch, the lower part of
the grey region is bounded by <code>0</code> given that <code>0</code>
is defined as the batch’s mid-point.</p>
<p>In this example, the points do not hug the <span class="math inline">\(x=y\)</span> line, even for the mid 75% of the
values covered by the grey region. This is to be expected given that we
generated a right skewed dataset. For example, a point in the lower half
of <code>x</code> that is about <code>1</code> unit away of the median
has a matching quantile in the upper half of <code>x</code> that is
about <code>1.4</code> units away of the median placing it further away
from the median than its lower half counterpart. This skew becomes more
pronounced as we move closer to the tails. The furthest point away from
the median is about <code>1.4</code> units for the lower half and a
little less than <code>4</code> units away for the upper half.</p>
<p>The <code>eda_sym</code> function allows for the use of a
re-expression. This feature can be helpful if one seeks to symmetrize a
batch of values using a power transformation. For example, if we wanted
to render <code>x</code> more symmetrical, we could try a power of
<code>0.5</code> (i.e. the square root) by setting the argument
<code>p = 0.5</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eda_sym.html">eda_sym</a></span><span class="op">(</span><span class="va">x</span>, p <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="symqq_files/figure-html/unnamed-chunk-5-1.png" width="288"></p>
<p>Here, the square root transformation does a good job in rendering
<code>x</code> more symmetrical. Note that the points do not hug the
<span class="math inline">\(x=y\)</span> exactly–this is fine. What we
don’t want to see is a systematic bend in the points away from the <span class="math inline">\(x=y\)</span> line. For example, if we were too
aggressive with the power transformation and chose a log transformation
(<code>p = 0</code>), we would end up with a left skewed batch of
values.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eda_sym.html">eda_sym</a></span><span class="op">(</span><span class="va">x</span>, p <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p><img src="symqq_files/figure-html/unnamed-chunk-6-1.png" width="288"></p>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<ul>
<li>John M. Chambers, William S. Cleveland, Beat Kleiner, Paul A. Tukey.
<em>Graphical Methods for Data Analysis</em>. 1983.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Manuel Gimond.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
