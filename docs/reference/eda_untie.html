<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Resolve Ties in a Numeric Vector — eda_untie • tukeyedar</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Resolve Ties in a Numeric Vector — eda_untie"><meta name="description" content="Adjusts tied values in a numeric vector by adding or subtracting
  a small fraction of the range."><meta property="og:description" content="Adjusts tied values in a numeric vector by adding or subtracting
  a small fraction of the range."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tukeyedar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/polish.html">Median polish</a></li>
    <li><a class="dropdown-item" href="../articles/qq.html">The empirical QQ plot (and derived Tukey mean-difference plot)</a></li>
    <li><a class="dropdown-item" href="../articles/rfs.html">The residual-fit spread plot</a></li>
    <li><a class="dropdown-item" href="../articles/RLine.html">Resistant Line</a></li>
    <li><a class="dropdown-item" href="../articles/symqq.html">The symmetry QQ plot</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mgimond/tukeyedar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Resolve Ties in a Numeric Vector</h1>
      <small class="dont-index">Source: <a href="https://github.com/mgimond/tukeyedar/blob/HEAD/R/eda_untie.R" class="external-link"><code>R/eda_untie.R</code></a></small>
      <div class="d-none name"><code>eda_untie.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Adjusts tied values in a numeric vector by adding or subtracting
  a small fraction of the range.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">eda_untie</span><span class="op">(</span><span class="va">dat</span>, x <span class="op">=</span> <span class="cn">NULL</span>, fac <span class="op">=</span> <span class="cn">NULL</span>, f <span class="op">=</span> <span class="fl">0.01</span>, rand <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>A data frame or a numeric vector containing values that may
have ties.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Column containing values that may have ties. Ignored if <code>dat</code>
is a numeric vector.</p></dd>


<dt id="arg-fac">fac<a class="anchor" aria-label="anchor" href="#arg-fac"></a></dt>
<dd><p>Column of categorical values . Ignored if <code>dat</code> is a numeric
vector.</p></dd>


<dt id="arg-f">f<a class="anchor" aria-label="anchor" href="#arg-f"></a></dt>
<dd><p>A numeric value specifying the fraction of the range of <code>x</code> to
use for adjustments. Must be between 0 and 1.</p></dd>


<dt id="arg-rand">rand<a class="anchor" aria-label="anchor" href="#arg-rand"></a></dt>
<dd><p>A logical value. If <code>FALSE</code>, all adjustments are of fixed
size based on <code>f</code>. If <code>TRUE</code>, the adjustments are randomized
within the range specified by <code>f</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>not used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric vector of the same length as <code>x</code>, with ties adjusted.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function identifies tied values in the input vector <code>x</code>
and perturbs them to break the ties.
If <code>rand = TRUE</code>, the adjustment for each tied value is randomized
uniformly with the lower and uper bounds defined by
<code>[0, f * diff(range(x))]</code>. If <code>rand = FALSE</code>, the adjustment is
deterministic and equal to <code>+/- f * diff(range(x))</code>. Alternating signs
(<code>-1</code> and <code>1</code>) are used to distribute adjustments symmetrically.
The deterministic approach may not eliminate all ties. For example, if four
values are tied, the output will split the values into two tied values.
Repeating the process on the output as needed will eliminate all remaining
ties.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Randomized adjustments</span></span></span>
<span class="r-in"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu">eda_untie</span><span class="op">(</span><span class="va">x</span>, f <span class="op">=</span> <span class="fl">0.01</span>, rand <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "There were 5 input ties."</span>
<span class="r-in"><span><span class="va">x1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.000000 1.963408 2.037483 1.988554 3.000000 4.033218 3.974330 5.000000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Deterministic adjustments</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu">eda_untie</span><span class="op">(</span><span class="va">x</span>, f <span class="op">=</span> <span class="fl">0.01</span>, rand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "There were 5 input ties."</span>
<span class="r-in"><span><span class="va">x2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.00 1.96 2.04 1.96 3.00 4.04 3.96 5.00</span>
<span class="r-in"><span><span class="va">x3</span> <span class="op">&lt;-</span> <span class="fu">eda_untie</span><span class="op">(</span><span class="va">x2</span>, f <span class="op">=</span> <span class="fl">0.01</span>, rand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "There were 2 input ties."</span>
<span class="r-in"><span><span class="va">x3</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.00 1.92 2.04 2.00 3.00 4.04 3.96 5.00</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Adjusting an entire dataframe. Add up to +/- 0.5 inches to</span></span></span>
<span class="r-in"><span><span class="co"># singer height values</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">17</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">singer</span> <span class="op">&lt;-</span> <span class="fu">lattice</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/lattice/man/singer.html" class="external-link">singer</a></span></span></span>
<span class="r-in"><span><span class="va">factor</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">singer</span><span class="op">$</span><span class="va">height</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="eda_jitter.html">eda_jitter</a></span><span class="op">(</span><span class="va">singer</span>, <span class="va">height</span>, <span class="va">voice.part</span>, reorder <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">singer</span><span class="op">$</span><span class="va">notie</span> <span class="op">&lt;-</span> <span class="fu">eda_untie</span><span class="op">(</span><span class="va">singer</span>, <span class="va">height</span>, <span class="va">voice.part</span>, f <span class="op">=</span> <span class="va">factor</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Bass 2 had 23 ties."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Bass 1 had 38 ties."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Tenor 2 had 18 ties."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Tenor 1 had 16 ties."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Alto 2 had 26 ties."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Alto 1 had 31 ties."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Soprano 2 had 28 ties."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Soprano 1 had 32 ties."</span>
<span class="r-in"><span><span class="fu"><a href="eda_jitter.html">eda_jitter</a></span><span class="op">(</span><span class="va">singer</span>, <span class="va">notie</span>, <span class="va">voice.part</span>, reorder <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Manuel Gimond.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

